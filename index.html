<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>index</title>
		<meta name="description" content="" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		
		<style type='text/css'>
		html, body {
			height: 100%;
			padding: 0;
			margin: 0;
			font-family: verdana;
		}
		#info-screen {
			width: 100%;
			height: 100%;
			position: fixed;
			z-index: 2;
			top: 0;
			left: 0;
			text-align: center;
			display: table;
			background: rgba(255,255,255,0.8);
			-webkit-animation: showTitle 2s;
			animation: showTitle 2s;
			opacity: 0;
			-webkit-transition: opacity: 0.5s;
		}
		.show { /* for when we show the game over screen */
			opacity: 1 !important;
			-webkit-transition: opacity: 0.5s;
		}
		.info {
			display: table-cell;
			vertical-align: middle;
		}
		.info h1 {
			font-size: 5em;
			margin: 0.25em 0;
			display: inline-block;
			background: -webkit-linear-gradient(left, #78c5d5 12.5%, #78c5d5 12.5%, #459ba8 12.5%, #459ba8 25%, #79c268 25%, #79c268 37.5%, #c5d747 37.5%, #c5d747 50%, #f5d63d 50%, #f5d63d 62.5%, #f18c32 62.5%, #f18c32 75%, #e868a1 75%, #e868a1 87.5%, #bf63a6 87.5%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;	
		}
		
		button, select, .button {
			font-family: verdana;
			font-size: 2em;
			padding: 10px;
			-webkit-border-radius: 0;
			border-radius: 0;
			border: none;
			border-bottom: 4px solid rgba(0, 0, 0, 0.1);
			text-shadow: 0 2px 0 rgba(0, 0, 0, 0.1);
			-webkit-box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);
			box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);
			position: relative;
			background: #79c268;
			color: white;
			cursor: pointer;
			-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
		}
		button:active {
			background: rgba(0, 0, 0, 0.1);
			width: 100%;
			height: 100%;
			content: "";
			position: absolute;
			left: 0;
			top: 0;
			pointer-events: none; 
		}
		
		.grid-background, .grid {
			width: 100%;
			height: 100%;
		}
		.grid-background {
			background: #f6f6f6;
			position: relative;
		}
		
		.grid-row {
			height: 25%;
			box-sizing: border-box;
		}
		.grid-cell {
			border: 2px solid rgba(0, 0, 0, 0.5);
			width: 25%;
			height: 100%;
			float: left;
			box-sizing: border-box;
		}
		
		.grid {
			position: absolute;
			top: 0;
			left: 0;
			z-index: 1;
			
		}
		.tile {
			transition: all 0.2s;
			position: absolute;
			width: 25%;
			height: 25%;
			box-sizing: border-box;
		}
		.tile div {
			transition: background-color 1s;
			position: relative;
			width: 100%;
			height: 100%;
			-webkit-transform: scale(0.9); /* alternatively can do padding on parent ele, but when we scale up/down it doesn't fit the full space */
			border-radius: 10px;
		}
		.tile div:after {
			position: absolute;
			content: '';
			width: 100%;
			height: 100%;
			border: 5px solid rgba(0, 0, 0, 0.1);
			border-radius: 10px;
			box-sizing: border-box;
		}
		.tile-phase-0 div {
			background: #ffffff;
		}
		.tile-phase-1 div {
			background: #78c5d5;
		}
		.tile-phase-2 div {
			background: #459ba8;
		}
		.tile-phase-3 div {
			background: #79c268;
		}
		.tile-phase-4 div {
			background: #c5d747;
		}
		.tile-phase-5 div {
			background: #f5d63d;
		}
		.tile-phase-6 div {
			background: #f18c32;
		}
		.tile-phase-7 div {
			background: #e868a1;
		}
		.tile-phase-8 div {
			background: #bf63a6;
		}
		.tile-phase-9 div {
			background: -webkit-linear-gradient(left, #78c5d5 12.5%, #78c5d5 12.5%, #459ba8 12.5%, #459ba8 25%, #79c268 25%, #79c268 37.5%, #c5d747 37.5%, #c5d747 50%, #f5d63d 50%, #f5d63d 62.5%, #f18c32 62.5%, #f18c32 75%, #e868a1 75%, #e868a1 87.5%, #bf63a6 87.5%);
		}
		.tile-0-0 {
			top: 0;
			left: 0;
		}
		.tile-0-1 {
			top: 0;
			left: 25%;
		}
		.tile-0-2 {
			top: 0;
			left: 50%;
		}
		.tile-0-3 {
			top: 0;
			left: 75%;
		}
		.tile-1-0 {
			top: 25%;
			left: 0;
		}
		.tile-1-1 {
			top: 25%;
			left: 25%;
		}
		.tile-1-2 {
			top: 25%;
			left: 50%;
		}
		.tile-1-3 {
			top: 25%;
			left: 75%;
		}
		.tile-2-0 {
			top: 0;
			left: 50%;
		}
		.tile-2-1 {
			top: 25%;
			left: 50%;
		}
		.tile-2-2 {
			top: 50%;
			left: 50%;
		}
		.tile-2-3 {
			top: 50%;
			left: 75%;
		}
		.tile-3-0 {
			top: 75%;
			left: 0;
		}
		.tile-3-1 {
			top: 75%;
			left: 25%;
		}
		.tile-3-2 {
			top: 75%;
			left: 50%;
		}
		.tile-3-3 {
			top: 75%;
			left: 75%;
		}
		
		.tile-merged div {
			-webkit-animation: mergeAnimation 0.5s;
			animation: mergeAnimation 0.5s;
		}
		
		@-webkit-keyframes mergeAnimation
		{
			0%	 { -webkit-transform: scale(0.9); }
			50%	{ -webkit-transform: scale(1.0); }
			100% { -webkit-transform: scale(0.9); }
			
		}
		@keyframes mergeAnimation
		{
			0%	 { transform: scale(0.9); }
			50%	{ transform: scale(1.0); }
			100% { transform: scale(0.9); }
		}
		
		@-webkit-keyframes showTitle
		{
			0%	 { opacity: 0; }
			25%	{ opacity: 1; }
			75%	{ opacity: 1; }
			100% { opacity: 0; }
			
		}
		@keyframes showTitle
		{
			0%	 { opacity: 0; }
			25%	{ opacity: 1; }
			75%	{ opacity: 1; }
			100% { opacity: 0; }
		}

		</style>
		<script>
		window.challenge = function() {
			Clay.Social.smartShare( { 
				message: getText( 'share-message-with-url', currentPoints, url ), 
				link: url,
				image: screenshotURL,
				data: data,
				ignoreScreenshot: true, // don't show ss checkbox
				respond: options && options.fromChallenge // cards.kik.returnToConversation
			} );
		}
		
		window.gameOver = function() {
			var infoScreen = document.getElementById( 'info-screen' );
			infoScreen.className = 'show';
			var gameOverBox = document.getElementById( 'game-over-box' );
			var html = '<button>Challenge a Friend</button>';
			html += '';
			gameOverBox.innerHTML = html;
			
		}
		</script>
	</head>

	<body>
		<div id='info-screen'>
			<div class='info'>
				<h1>prism</h1>
				<div id='game-over-box'></div><!-- game over data goes here -->
			</div>
		</div>
		
		<div class='grid-background'>
			<div class='grid-row'>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
			</div>
			<div class='grid-row'>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
			</div>
			<div class='grid-row'>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
			</div>
			<div class='grid-row'>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
				<div class='grid-cell'></div>
			</div>
			<div class='grid'>
			</div>
		</div>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/hammer.js/1.0.6/hammer.min.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js'></script>
		<script src='events.js'></script>
		<script src='board.js'></script>
		<script src='main.js'></script>
	</body>
</html>
